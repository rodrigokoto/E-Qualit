@using ApplicationService.Entidade
@using ApplicationService.Enum
@model Web.UI.Models.LayoutImpressaoViewModel



@{
    ViewBag.Title = "EmissaoDocumento";
    Layout = null;

    var listaPermissoes = new List<PermissoesApp>();
    listaPermissoes.AddRange(ViewBag.Permissoes);
}
<html>
<head>
    <meta name="page" content="ConteudoDocumento" />

    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    @Styles.Render("~/Content/assets/css")
    @Scripts.Render("~/bundles/bootstrap")
    <link href="~/Content/assets/css/style.css" rel="stylesheet" />

</head>
<body style="background:white !important">
    <div class="container">



        <style>
            body {
                font-size: 10px;
            }

            .ui-timepicker {
                width: 119px !important;
            }

            .ui-timepicker-container {
                width: 128px !important;
                /*overflow: auto;*/
            }

            .ui-timepicker-viewport {
                width: 75px !important;
            }

                .ui-timepicker-viewport li {
                    width: 85px !important;
                }

            .caixa {
                font-family: 'Abel-Regular', sans-serif !important;
                width: 100%;
                padding: 12px 10px;
                -webkit-border-radius: 4px;
                border-radius: 4px;
                background: #fff;
            }

            .form-group {
                margin-bottom: 20px;
                font-size: medium;
                color:#000000;
            }

            .tabela-check {
                background-color: white !important;
            }

            #main {
                max-height: 700px !important;
            }
        </style>


        <div class="" id="main1" style="top: 140px; ">
            <div id="main">
                <input type="hidden" name="StatusEtapa" value="@Model.Documento.FlStatus" />
                <input type="hidden" name="IdUsuarioLogado" value="@ViewBag.IdUsuarioLogado" />
                <input type="hidden" name="IdSite" id="emissao-documento-site" value="@(Model.Documento.IdSite == 0 ? ViewBag.IdSite : Model.Documento.IdSite)" />
                <input type="hidden" name="IdProcesso" id="emissao-documento-processo" value="@(Model.Documento.IdProcesso == 0 ? ViewBag.IdProcesso : Model.Documento.IdProcesso)" />
                <input type="hidden" name="IdDocumento" id="emissao-documento-IdDocumento" value="@Model.Documento.IdDocumento" />
                <input type="hidden" name="NmUsuarioLogado" id="emissao-documento-NmUsuarioLogado" value="@ViewBag.NmUsuarioLogado" />
                <div class="content-painel">
                    <!-- Formulario CADASTRO -->

                    <div class="row">
                        <div class="col-xs-12">
                            <div class="row">
                                <div class="col-xs-12">
                                    <table>
                                        <tr>
                                            <td><img src="data:image/png;base64, @Model.LogoCliente" width="120" height="100" /></td>asd
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="row">&nbsp;</div>
                    </div>
                    <div class="row">
                        <form id="form-emissao-documento-cadastro" name="formTest">
                            <input type="hidden" name="eColaborador" id="emissao-documento-e-colaborador" value="@ViewBag.eColaborador" />
                            <input type="hidden" name="IdUsuarioLogado" id="emissao-documento-id-usuario-logado" value="@ViewBag.IdUsuarioLogado" />
                            <input type="hidden" name="NuRevisao" id="emissao-documento-NuRevisao" value="@Model.Documento.NuRevisao" />
                            <div id="panel-form-cadastro">
                                <div>
                                    <div>
                                        <h4>@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Cadastro</h4>
                                    </div>
                                </div>
                                <div>
                                    <div class="caixa">
                                        <div class="col-xs-4">
                                            <!-- Titulo do Documento -->
                                            <div class="form-group" style="color:#000000!important">
                                                <label for="form-cadastro-titulo-documento">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_TituloDocumento</label>
                                                <br />
                                                @Model.Documento.Titulo
                                            </div>
                                        </div>
                                        <div class="col-xs-4">
                                            <!-- Sigla -->
                                            <div class="form-group" style="color:#000000!important">
                                                <label for="form-cadastro-sigla">
                                                    @Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Sigla
                                                </label>
                                                <br />
                                                @Model.Documento.Sigla.Descricao
                                            </div>
                                        </div>
                                        <div class="col-xs-4">
                                            <!-- Numero Documento -->
                                            <div class="form-group" style="color:#000000!important">
                                                <label for="form-cadastro-numero-documento">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_NumeroDocumento</label>
                                                <br />
                                                @{
                                                    string numeroDocumento = ((Model.Documento.NumeroDocumento % 2).Equals(1) || (Model.Documento.NumeroDocumento % 2).Equals(0) ? @Model.Documento.NumeroDocumento.ToString("000") : @Model.Documento.NumeroDocumento.ToString().Replace(".", ","));
                                                }
                                                @numeroDocumento
                                            </div>
                                        </div>

                                        <div style="display: none">
                                            <!-- Escolha -->
                                            <div class="form-group">
                                                <label for="form-cadastro-escolha">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Escolha</label>
                                                <!-- Linha -->
                                                <div class="row tabela-check">
                                                    <!-- Texto -->
                                                    <div class="col-lg-2 col-md-3 col-xs-6 col-xs-12 checkbox">
                                                        <input type="checkbox" disabled name="formCadastroEscolha" id="form-cadastro-escolha-texto" class="" value="T" data-id="@(Model.Documento.DocTemplate.Find(x => x.TpTemplate == "T") != null ? Model.Documento.DocTemplate.Find(x => x.TpTemplate == "T").IdDocTemplate.ToString() : "")" @(Model.Documento.DocTemplate.Find(x => x.TpTemplate == "T") != null ? "checked" : "")>
                                                        <label for="form-cadastro-escolha-texto">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Texto</label>
                                                    </div>
                                                    <!-- Fluxo -->
                                                    <div class="col-lg-2 col-md-3 col-xs-6 col-xs-12 checkbox">
                                                        <input type="checkbox" disabled name="formCadastroEscolha" id="form-cadastro-escolha-fluxo" class="" value="F" data-id="@(Model.Documento.DocTemplate.Find(x => x.TpTemplate == "F") != null ? Model.Documento.DocTemplate.Find(x => x.TpTemplate == "F").IdDocTemplate.ToString() : "")" @(Model.Documento.DocTemplate.Find(x => x.TpTemplate == "F") != null ? "checked" : "")>
                                                        <label for="form-cadastro-escolha-fluxo">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Fluxo</label>
                                                    </div>
                                                    <!-- Registros -->
                                                    <div class="col-lg-2 col-md-3 col-xs-6 col-xs-12 checkbox">
                                                        <input type="checkbox" disabled name="formCadastroEscolha" id="form-cadastro-escolha-registros" class="" value="R" data-id="@(Model.Documento.DocTemplate.Find(x => x.TpTemplate == "R") != null ? Model.Documento.DocTemplate.Find(x => x.TpTemplate == "R").IdDocTemplate.ToString() : "")" @(Model.Documento.DocTemplate.Find(x => x.TpTemplate == "R") != null ? "checked" : "")>
                                                        <label for="form-cadastro-escolha-registros">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Registros</label>
                                                    </div>
                                                    <!-- Rotina -->
                                                    <div class="col-lg-2 col-md-3 col-xs-6 col-xs-12 checkbox">
                                                        <input type="checkbox" disabled name="formCadastroEscolha" id="form-cadastro-escolha-rotina" class="" value="RO" data-id="@(Model.Documento.DocTemplate.Find(x => x.TpTemplate == "RO") != null ? Model.Documento.DocTemplate.Find(x => x.TpTemplate == "RO").IdDocTemplate.ToString() : "")" @(Model.Documento.DocTemplate.Find(x => x.TpTemplate == "RO") != null ? "checked" : "")>
                                                        <label for="form-cadastro-escolha-rotina">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Rotina</label>
                                                    </div>

                                                    <!-- Indicadores -->
                                                    <div class="col-lg-2 col-md-3 col-xs-6 col-xs-12 checkbox">
                                                        <input type="checkbox" disabled name="formCadastroEscolha" id="form-cadastro-escolha-indicadores" class="" value="IN" data-id="@(Model.Documento.DocTemplate.Find(x => x.TpTemplate == "IN") != null ? Model.Documento.DocTemplate.Find(x => x.TpTemplate == "IN").IdDocTemplate.ToString() : "")" @(Model.Documento.DocTemplate.Find(x => x.TpTemplate == "IN") != null ? "checked" : "")>
                                                        <label for="form-cadastro-escolha-indicadores">Indicadores</label>
                                                    </div>

                                                    <!-- Recursos -->
                                                    <div class="col-lg-2 col-md-3 col-xs-6 col-xs-12 checkbox">
                                                        <input type="checkbox" disabled name="formCadastroEscolha" id="form-cadastro-escolha-recursos" class="" value="RE" data-id="@(Model.Documento.DocTemplate.Find(x => x.TpTemplate == "RE") != null ? Model.Documento.DocTemplate.Find(x => x.TpTemplate == "RE").IdDocTemplate.ToString() : "")" @(Model.Documento.DocTemplate.Find(x => x.TpTemplate == "RE") != null ? "checked" : "")>
                                                        <label for="form-cadastro-escolha-recursos">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Recursos</label>
                                                    </div>
                                                    <!-- Riscos -->
                                                    <div class="col-lg-2 col-md-3 col-xs-6 col-xs-12 checkbox">
                                                        <input type="checkbox" disabled name="formCadastroEscolha" id="form-cadastro-escolha-riscos" class="" value="RI" data-id="@(Model.Documento.DocTemplate.Find(x => x.TpTemplate == "RI") != null ? Model.Documento.DocTemplate.Find(x => x.TpTemplate == "RI").IdDocTemplate.ToString() : "")" @(Model.Documento.DocTemplate.Find(x => x.TpTemplate == "RI") != null ? "checked" : "")>
                                                        <label for="form-cadastro-escolha-riscos">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Riscos</label>
                                                    </div>
                                                    <!-- Licenca -->
                                                    @*<div class="col-lg-2 col-md-3 col-xs-6 col-xs-12 checkbox">
                                            <input type="checkbox" name="formCadastroEscolha" id="form-cadastro-escolha-licenca" class="" value="L" data-id="@(Model.Documento.DocTemplate.Find(x => x.TpTemplate == "L") != null ? Model.Documento.DocTemplate.Find(x => x.TpTemplate == "L").IdDocTemplate.ToString() : "")" @(Model.Documento.DocTemplate.Find(x => x.TpTemplate == "L") != null ? "checked" : "")>
                                            <label for="form-cadastro-escolha-licenca">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Licenca</label>
                                        </div>*@
                                                    <!-- Docs Externos -->
                                                    <div class="col-lg-2 col-md-3 col-xs-6 col-xs-12 checkbox">
                                                        <input type="checkbox" disabled name="formCadastroEscolha" id="form-cadastro-escolha-docsexternos" class="" value="DE" data-id="@(Model.Documento.DocTemplate.Find(x => x.TpTemplate == "DE") != null ? Model.Documento.DocTemplate.Find(x => x.TpTemplate == "DE").IdDocTemplate.ToString() : "")" @(Model.Documento.DocTemplate.Find(x => x.TpTemplate == "DE") != null ? "checked" : "")>
                                                        <label for="form-cadastro-escolha-docsexternos">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_DocsExternos</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <!-- Formulario TEXTO -->
                    @if (Model.Documento.DocTemplate.Find(x => x.TpTemplate == "T") != null)
                    {
                        <div class="row">

                            <form id="form-emissao-documento-texto">
                                <div id="panel-form-texto">
                                    <div>
                                        <div>
                                            <h4>@Traducao.Resource.Texto</h4>
                                        </div>
                                    </div>
                                    <div class="">
                                        <div class="caixa">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <div id=@Traducao.Resource.formulario>
                                                        @Html.Raw(Model.Documento.TextoDoc)
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    }

                    <!-- Formulario FLUXO -->
                    @if (Model.Documento.DocTemplate.Find(x => x.TpTemplate == "F") != null)
                    {
                        <div class="row">

                            <form id="form-emissao-documento-fluxo">
                                <div id="panel-form-fluxo">
                                    <div>
                                        <div>
                                            <h4>@Traducao.Resource.Fluxo</h4>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="caixa">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <div class="row containerGraph">
                                                        <div class="col-md-1 col-xs-2 tollbarGraph">
                                                            <div id="toolbar" valign="top"></div>
                                                        </div>
                                                        <div class="col-md-11 col-xs-10">
                                                            <div id="fluxo" disabled>
                                                                <img src="@Model.Documento.FluxoBase64" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    }

                    @if (Model.Documento.DocTemplate.Find(x => x.TpTemplate == "RO") != null)
                    {
                        <div class="row">
                            <!-- Formulario ROTINA -->
                            <form id="form-emissao-documento-rotina">
                                <div id="panel-form-rotina">
                                    <div>
                                        <div>
                                            <h4>@Traducao.Resource.Rotina</h4>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="caixa">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <table id="tb-form-rotina" class="table table-striped table-bordered table-list">
                                                        <thead>
                                                            <tr>
                                                                <th class="w10 with-input">@Traducao.Resource.Item</th>
                                                                <th class="w10 with-input">@Traducao.Resource.Oque</th>
                                                                <th class="w10 with-input">@Traducao.Resource.Quem</th>
                                                                <th class="w10 with-input">@Traducao.Resource.Registro</th>
                                                                <th class="w10 with-input">@Traducao.Resource.Como?</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @if (Model.Documento.DocTemplate.Find(t => t.TpTemplate == "RO") != null)
                                                            {
                                                                foreach (var rotina in Model.Documento.Rotinas)
                                                                {
                                                                    <tr>
                                                                        <td>
                                                                            <input type="hidden" name="formRotinaIdRotina" value="@rotina.IdDocRotina" />
                                                                            @rotina.Item
                                                                        </td>
                                                                        <td>
                                                                            @rotina.OQue
                                                                        </td>
                                                                        <td>
                                                                            @rotina.Quem
                                                                        </td>
                                                                        <td>
                                                                            @rotina.Registro
                                                                        </td>
                                                                        <td>
                                                                            @rotina.Como
                                                                        </td>

                                                                    </tr>
                                                                }
                                                            }
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    }


                    <!-- Formulario REGISTROS -->
                    @if (Model.Documento.DocTemplate.Find(x => x.TpTemplate == "R") != null)
                    {
                        <div class="row">
                            <form id="form-emissao-documento-registros">
                                <div id="panel-form-registros">
                                    <div>
                                        <div>
                                            <h4>@Traducao.Resource.Registros</h4>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="caixa">

                                            <div class="col-xs-12">
                                                <div class="form-group">
                                                    <table id="tb-form-registros" class="table table-striped table-bordered table-list">
                                                        <thead>
                                                            <tr>
                                                                <th class="w10 with-input">@Traducao.Resource.Identificar</th>
                                                                <th class="w10 with-input">@Traducao.Resource.Armazenar</th>
                                                                <th class="w10 with-input">@Traducao.Resource.Proteger</th>
                                                                <th class="w10 with-input">@Traducao.Resource.Recuperar</th>
                                                                <th class="w10 with-input">@Traducao.Resource.Retencao</th>
                                                                <th class="w10 with-input">@Traducao.Resource.Disposicao</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @if (Model.Documento.DocTemplate.Find(t => t.TpTemplate == "R") != null)
                                                            {
                                                                foreach (var registro in Model.Documento.Registros)
                                                                {
                                                                    <tr>
                                                                        <td>
                                                                            <input type="hidden" name="formRegistrosIdRegistroDoc" value="@registro.IdDocRegistro" />
                                                                            @registro.Identificar
                                                                        </td>
                                                                        <td>
                                                                            @registro.Armazenar
                                                                        </td>
                                                                        <td>
                                                                            @registro.Proteger
                                                                        </td>
                                                                        <td>
                                                                            @registro.Recuperar
                                                                        </td>
                                                                        <td>
                                                                            @registro.Retencao
                                                                        </td>
                                                                        <td>
                                                                            @registro.Disposicao
                                                                        </td>

                                                                    </tr>
                                                                }
                                                            }
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    }

                    @if (Model.Documento.DocTemplate.Find(x => x.TpTemplate == "IN") != null)
                    {
                        <div class="row">
                            <!-- Formulario Indicadores -->
                            <form id="form-emissao-documento-indicadores">
                                <div id="panel-form-indicadores">
                                    <div>
                                        <div>
                                            <h4>Indicadores</h4>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="caixa">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <table id="tb-form-indicadores" class="table table-striped table-bordered table-list">
                                                        <thead>
                                                            <tr>
                                                                @*<th class="w10 with-input">@Traducao.Resource.Item</th>
                                                    <th class="w10 with-input">@Traducao.Resource.Oque</th>
                                                    <th class="w10 with-input">@Traducao.Resource.Quem</th>
                                                    <th class="w10 with-input">@Traducao.Resource.Registro</th>
                                                    <th class="w10 with-input">@Traducao.Resource.Como?</th>*@

                                                                <th class="w10 with-input">Objetivo</th>
                                                                <th class="w5 with-input">Responsável</th>
                                                                <th class="w5 with-input">Meta</th>
                                                                <th class="w10 with-input">Meta Max/Min</th>
                                                                <th class="w10 with-input">Indicador</th>
                                                                <th class="w5 with-input">Unidade</th>


                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @if (Model.Documento.DocTemplate.Find(t => t.TpTemplate == "IN") != null)
                                                            {
                                                                foreach (var indicador in Model.Documento.Indicadores)
                                                                {
                                                                    <tr>
                                                                        <td>
                                                                            <input type="hidden" name="formIndicadoresIdIndicadores" value="@indicador.IdIndicadores" />
                                                                            @indicador.Objetivo
                                                                        </td>
                                                                        <td>
                                                                            @indicador.ResponsavelNomeCompleto
                                                                        </td>
                                                                        <td>
                                                                            @indicador.IndicadoresMeta
                                                                        </td>
                                                                        <td>
                                                                            @(indicador.IndicadoresMetaMaximaMinima ? "Max" : "Min" )

                                                                        </td>
                                                                        <td>
                                                                            @indicador.Indicadores
                                                                        </td>
                                                                        <td>
                                                                            @indicador.IndicadoresUnidadeMeta
                                                                        </td>

                                                                    </tr>
                                                                }
                                                            }
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    }










                    @if (Model.Documento.DocTemplate.Find(x => x.TpTemplate == "RE") != null)
                    {
                        <div class="row">
                            <!-- Formulario RECURSOS -->
                            <form id="form-emissao-documento-recursos">
                                <div id="panel-form-recursos">
                                    <div>
                                        <div>
                                            <h4>@Traducao.Resource.Recursos</h4>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="caixa">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <div id="formulario">
                                                        @Html.Raw(Model.Documento.RecursoDoc)
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    }



                    @if (Model.Documento.DocTemplate.Find(x => x.TpTemplate == "RI") != null)
                    {


                        <div class="row">
                            <!-- Formulario Riscos -->
                            <form id="form-emissao-documento-riscos">
                                <div id="panel-form-riscos">
                                    <div>
                                        <div>
                                            <h4>@Traducao.Resource.Riscos</h4>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="caixa">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <table id="tb-form-riscos" class="table table-striped table-bordered table-list">
                                                        <thead>
                                                            <tr>
                                                                <th class="w10 with-input">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_IdentificacaoRisco</th>
                                                                <th class="w5 with-input">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Risco</th>
                                                                <th class="w5 with-input">@Traducao.GestaoDeRisco.ResourceGestaoDeRisco.GR_lbl_EProcedente</th>
                                                                <th class="w10 with-input">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Responsavel_Risco</th>

                                                                <th class="w5 with-input">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Causa</th>
                                                                <th class="w10 with-input">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Justificativa</th>




                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @if (Model.Documento.DocTemplate.Find(t => t.TpTemplate == "RI") != null)
                                                            {
                                                                foreach (var risco in Model.Documento.DocRisco)
                                                                {
                                                                    <tr>
                                                                        <td>
                                                                            <input type="hidden" name="formRiscossIdRiscos" value="@risco.IdDocRisco" />
                                                                            @(risco != null ? risco.DescricaoRegistro : "")
                                                                        </td>
                                                                        <td>
                                                                            @risco.CriticidadeGestaoDeRisco
                                                                        </td>
                                                                        <td>
                                                                            @(risco.PossuiGestaoRisco ? "Sim" : "Não" )
                                                                        </td>
                                                                        <td>
                                                                            @risco.ResponsavelInicarAcaoImediataNomeCompleto

                                                                        </td>
                                                                        <td>
                                                                            @risco.Causa
                                                                        </td>
                                                                        <td>
                                                                            @risco.DsJustificativa
                                                                        </td>

                                                                    </tr>
                                                                }
                                                            }
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>


                        @*<div class="row">
                <!-- Formulario RISCOS -->
                <form id="form-emissao-documento-riscos">
                    <div id="panel-form-riscos">
                        <div>
                            <div>
                                <h4>@Traducao.Resource.Riscos</h4>
                            </div>
                        </div>
                        <div>
                            <div class="caixa">
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        @Html.HiddenFor(model => model.Documento.IdGestaoDeRisco, new { @id = "idgestaorisco" })
                                        <!-- Identificacao -->
                                        <label for="form-riscos-identificacao">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_IdentificacaoRisco</label>
                                        <br />
                                        @(Model.Documento.GestaoDeRisco != null ? Model.Documento.GestaoDeRisco.DescricaoRegistro : "")
                                    </div>
                                </div>

                                <!-- Criticidade -->
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <label for="form-riscos-criticidade" class="control-label">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Risco</label>
                                        @{
                                            var Criticidade = "";
                                        }
                                        @if (Model.Documento.GestaoDeRisco != null)
                                        {
                                            if (Model.Documento.GestaoDeRisco.CriticidadeGestaoDeRisco <= 5)
                                            {
                                                Criticidade = @Traducao.Resource.Leve;
                                            }
                                            else if (Model.Documento.GestaoDeRisco.CriticidadeGestaoDeRisco > 5 && Model.Documento.GestaoDeRisco.CriticidadeGestaoDeRisco <= 10)
                                            {
                                                Criticidade = Traducao.Resource.Medio;
                                            }
                                            else
                                            {
                                                Criticidade = Traducao.Resource.Auto;
                                            }
                                        }

                                        <br />@Criticidade
                                    </div>
                                </div>
                                <!-- Necessita Acao -->
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <label>@Traducao.GestaoDeRisco.ResourceGestaoDeRisco.GR_lbl_EProcedente</label>
                                        <div class="">
                                            @(Model.Documento.PossuiGestaoRisco == true ? Traducao.Resource.Sim : Traducao.Resource.Nao )
                                        </div>
                                    </div>

                                </div>


                                <div class="col-sm-2">
                                    @if (Model.Documento.GestaoDeRisco != null && !string.IsNullOrEmpty(Model.Documento.GestaoDeRisco.Causa))
                                    {
                                        <div class="form-group">
                                            <!-- Causa -->
                                            <label for="form-riscos-causa" class="control-label">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Causa</label>
                                            <br />
                                            @(Model.Documento.GestaoDeRisco != null ? Model.Documento.GestaoDeRisco.Causa : "" )
                                        </div>
                                    }
                                </div>
                                @if (Model.Documento.GestaoDeRisco != null && !string.IsNullOrEmpty(Model.Documento.GestaoDeRisco.DsJustificativa))
                                {
                                    <div class="col-sm-2">
                                        <div class="form-group">
                                            <!-- Justificativa -->
                                            <label for="form-riscos-causa" class="control-label">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Justificativa</label>
                                            <br />
                                            @(Model.Documento.GestaoDeRisco != null ? Model.Documento.GestaoDeRisco.DsJustificativa : "")
                                        </div>
                                    </div>
                                }

                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <!-- Responsável -->
                                        <label for="form-riscos-causa" class="control-label">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Responsavel_Risco</label>
                                        <br />
                                        @((Model.Documento.GestaoDeRisco != null && Model.Documento.GestaoDeRisco.ResponsavelInicarAcaoImediata != null) ? Model.Documento.GestaoDeRisco.ResponsavelInicarAcaoImediata.NmCompleto : "" )
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>*@

                    }
                    <!-- Formulario DOCS.EXTERNOS -->
                    @if (Model.Documento.DocTemplate.Find(x => x.TpTemplate == "DE") != null)
                    {
                        <div class="row">
                            <form id="form-emissao-documento-docsexternos">
                                <div>
                                    <div>
                                        <h4>@Traducao.Resource.UploadArquivos</h4>
                                    </div>
                                </div>
                                <div>
                                    <div class="caixa">
                                        <div class="col-md-12">
                                            <!-- Arquivo -->
                                            <table class="table table-striped table-bordered table-list" style="width:100% !important">
                                                <thead>
                                                    <tr>
                                                        <th class="w20 with-input">Arquivos</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    @if (Model.Documento.ArquivoDocDocumentoAnexo.Count > 0)
                                                    {
                                                        foreach (var anexo in Model.Documento.ArquivoDocDocumentoAnexo)
                                                        {
                                                            <tr>
                                                                <td>
                                                                    <p>@anexo.Anexo.Nome</p>
                                                                </td>
                                                            </tr>
                                                        }
                                                    }
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    }
                    <!-- Participantes-->
                    <div class="row">
                        <form id="form-emissao-documento-elaborador">
                            <div>
                                <div>
                                    <h4>Participantes</h4>
                                </div>
                            </div>
                            <div class="caixa">
                                <div class="col-md-12">
                                    <table id="tb-emissao-documento-form-elaborador" class="table table-striped table-bordered table-list" style="width:100% !important">
                                        <thead>
                                            <tr>
                                                <th class="w20 with-input">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Elaborador</th>
                                                <th class="w20 with-input">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Verificadores</th>
                                                <th class="w20 with-input">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Aprovadores</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>@Model.Documento.Elaborador.NmCompleto</td>
                                                <td>
                                                    @if (Model.Documento.Verificadores != null)
                                                    {
                                                        foreach (var verificador in Model.Documento.Verificadores)
                                                        {
                                                            <p>@Html.Raw(verificador.Usuario.NmCompleto)</p>
                                                        }
                                                    }
                                                </td>
                                                <td>
                                                    @foreach (var aprovador in Model.Documento.Aprovadores)
                                                    {
                                                        <p>@aprovador.Usuario.NmCompleto.ToString()</p>;
                                                    }
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </form>
                    </div>
                    <!-- Elaborador-->
                    <div class="row">
                        <form id="form-emissao-documento-elaborador">
                            <div>
                                <div>
                                    <h4>Elaborador</h4>
                                </div>
                            </div>
                            <div class="caixa">
                                <div class="col-md-12">
                                    <table id="tb-emissao-documento-form-elaborador" class="table table-striped table-bordered table-list" style="width:100% !important">
                                        <thead>
                                            <tr>
                                                <th class="w20 with-input">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Elaborador</th>
                                                <th class="w20 with-input">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Revisao</th>
                                                <th class="w20 with-input">@Traducao.ControlDoc.ResourceControlDoc.ControlDoc_lbl_Aprovador</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>@Model.Documento.Elaborador.NmCompleto</td>
                                                <td>@Model.Documento.NuRevisao</td>
                                                <td>
                                                    @foreach (var aprovador in Model.Documento.Aprovadores)
                                                    {
                                                        <p>@aprovador.Usuario.NmCompleto.ToString()</p>;
                                                    }
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </form>
                    </div>


                    <!-- Assunto -->
                    <form id="form-emissao-documento-assuntos">
                        <div class="row">
                            <div id="panel-form-riscos">
                                <div>
                                    <div>
                                        <h4 class="modal-title">@Traducao.Resource.Assunto</h4>
                                    </div>
                                </div>
                                <div>

                                    <div class="caixa">

                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <table id="tb-emissao-documento-form-assuntos" class="table table-striped table-bordered table-list" style="width:100% !important;">
                                                    <thead>
                                                        <tr>
                                                            <th class="w20 with-input">@Traducao.Resource.Revisao</th>
                                                            <th class="w20 with-input">@Traducao.Resource.DataVersao</th>
                                                            <th class="w80 with-input">@Traducao.Resource.Descricao</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody id="tabelaAssuntos">
                                                        @if (Model.Documento.Assuntos != null)
                                                        {
                                                            foreach (var assunto in Model.Documento.Assuntos)
                                                            {
                                                                <tr>
                                                                    <td>
                                                                        @assunto.Revisao
                                                                    </td>

                                                                    <td>
                                                                        @assunto.DataAssunto.ToString(Traducao.Resource.formato_data)
                                                                    </td>

                                                                    <td>
                                                                        @assunto.Descricao
                                                                    </td>

                                                                </tr>
                                                            }
                                                        }
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                    <div class="row">
                        <center>
                            <div style="color:red;">***Fim do Documento****</div>
                        </center>
                    </div>
                </div>
            </div>
        </div>

    </div>

    @Html.Partial("_OpcoesScripts")

    <script type="text/javascript">
        var mxBasePath = '../../Content/assets_src/js/vendor/mxGraph/javascript/src';
        mxDefaultLanguage = 'pt';

        var APP = {
            core: {},
            model: {},
            component: {},
            controller: {}
        };

    </script>

    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="@Url.Content("~/Content/assets/js/jquery.min.js")"></script>
    <script src="@Url.Content("~/Content/assets/js/Core.js")"></script>
    <script src="@Url.Content("~/Content/assets/js/Model.js")"></script>
    <script src="@Url.Content("~/Content/assets/js/Component.js")"></script>
    <script src="@Url.Content("~/Content/assets/js/GeneralController.js")"></script>
    <script src="@Url.Content("~/Content/assets_src/js/vendor/mxGraph/javascript/src/js/mxClient.js")"></script>
    <script src="@Url.Content("~/Content/assets_src/js/vendor/mxGraph/javascript/src/js/mxApplication.js")"></script>
    <script src="@Url.Content("~/Content/assets_src/js/components/_print.min.js")"></script>
    <script src="@Url.Content("~/Content/assets/js/ControlDocController.js")"></script>
    <script src="@Url.Content("~/Content/assets/js/ControladorCategoriasController.js")"></script>
</body>
</html>